[TOC]



# 指令系统组成

机器指令：硬件能够直接识别和执行的命令，命令内容包括执行的操作及具体的操作数。  
机器指令是机器语言的基本单位，所有机器指令的集合称为**指令系统**。

## 指令功能

1.操作数：定点数、浮点数、逻辑数、字符等

2.操作：数据传送、输入输出、算逻运算、移位运算等

（具体参考汇编语言）

## 指令格式

指令格式组成：

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_1.png" alt="image-20200826144942437" style="zoom:67%;" />

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_2.png" alt="image-20200826152701322" style="zoom:67%;" />

**指令字长：**一条指令中所包含二进制信息的位数，取决于操作码长度、地址码长度。（指令字长必须为主存单元长度的倍数。）    

半字长指令：指令字长等于半个机器字长。  
单字长指令：指令字长等于机器字长。   
双子长指令：指令字长等于两个机器字长  

定长指令：指令系统中所有的指令字长都相等。  
不定长指令

















# 操作数的存放方式

## 数据在寄存器中的存放方式

寄存器的长度等于机器字长，寄存器按实际个数进行编址。  
数据长度=寄存器长度时，数据占用寄存器的全部位数。  
数据长度<寄存器长度时，采用**寄存器低端**、**部分寄存器**两种存放方案。 

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_3.png" alt="image-20200826152701322" style="zoom:67%;" />

## 数据在存储器中的存放方式

数据在存储器中存放时，其内容可能存放在多个连续的存储单元中，数据地址用第一个存储单元的地址 N 来表示。

端序：数据中各个字节在存储器中的字节顺序，有**大端**和**小端**。  
LSB：最低有效字节。  
MSB：最高有效字节。

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_4.png" alt="image-20200826164701418" style="zoom: 67%;" />

对齐：数据在存储器中的位置限制，有**不对齐**和**对齐**两种方式。

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_5.png" alt="image-20200826165914639" style="zoom:67%;" />















# 寻址方式

根据地址码形成操作数地址或指令地址的方法。

## 指令寻址方式

形成下条指令地址的方法，有**顺序寻址**和**跳跃寻址。**

1.顺序寻址：下条指令地址 = PC +1 
2.跳跃寻址：下条指令地址 = 由当前指令的地址码形成。

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_6.png" alt="image-20200826172224970" style="zoom:50%;" />

## 数据寻址方式

形成操作数或操作数地址的方法。

1.立即寻址  
	操作数存放在指令中。  
	操作数 = Imme（立即数）

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_7.png" alt="image-20200826174310737" style="zoom:67%;" />

2.寄存器寻址  
	操作数存放在寄存器中，操作数地址为寄存器编号。  
	操作数地址 = Ri，操作数 = (Ri)。

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_8.png" alt="image-20200826174354655" style="zoom:67%;" />

3.直接寻址  
	操作数存放在存储器中，操作数地址为有效地址EA。  
	操作数的EA = A，操作数=M[A]

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_9.png" alt="image-20200826174822104" style="zoom:67%;" />

4.间接寻址  
	操作数存放在存储器中，地址码中的地址参数 A 为存放操作数地址的存储单元地址。  
	操作数的EA = M[A] = A'，操作数 = M[A']

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_10.png" alt="image-20200826174822104" style="zoom:67%;" />

5.寄存器间接寻址  
	操作数存放在存储器中。  
	操作数的EA = (Ri)，操作数=M[(Ri)]

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_11.png" alt="image-20200826175414794" style="zoom:67%;" />

6.变址寻址  
	操作数存放在存储器中，地址码中的地址参数为变址寄存器号 B 及形式地址A。  
	操作数的 EA =  A + (B)  
	A为基准地址，(B)为偏移量。

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_12.png" alt="image-20200827142011767" style="zoom:50%;" />

7.基址寻址  
	操作数存放在存储器中，地址码中的地址参数为基址寄存器号 B 及形式地址A。   
	操作数的 EA = (B) + A  
	(B)为基准地址，A为偏移量。

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_13.png" alt="image-20200827142803413" style="zoom:50%;" />   

8.相对寻址  
	操作数存放在存储器中，地址码中的地址参数为形式地址A。  
	A 用作偏移量，基准地址隐含在 PC 中。  
	操作数的 EA = (PC) + A 

<img src="C:\Users\GaoWei\Desktop\新建文件夹\图片\4_14.png" alt="image-20200827144434221" style="zoom:50%;" />

9.隐含寻址  
	操作数/指令地址由指令操作码隐含约定。















# 指令系统的发展

1.CISC指令系统  
	侧重增强指令功能，减少程序中指令数来提高性能。  

2.RISC指令系统  
	侧重简化指令功能，通过减少指令执行时间来提高性能。  

|                  |                 CISC                 |           RISC           |
| :--------------: | :----------------------------------: | :----------------------: |
|     指令系统     |              复杂、庞大              |        精简、简单        |
|     指令数目     |            一般大于200条             |      一般小于100条       |
|     指令字长     |                不固定                |           定长           |
|    可访存指令    |               不加限制               |    只有Load/Store指令    |
| 不同指令执行时间 |               相差较大               | 绝大多数在一个周期内完成 |
| 不同指令使用频度 |               相差较大               |        都比较常用        |
|  通用寄存器数量  |                 较少                 |            多            |
|     目标代码     | 难以优化编译、生成高效的目标代码程序 |       优化编译程序       |
|     控制方式     |         绝大多数为微程序控制         |  绝大多数为组合逻辑控制  |
|    指令流水线    |         可以通过一定方式实现         |         必须实现         |

